<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>
<!-- Creating quiz start display -->
<div class="container" id="start" style="display: ;">
<div class="card m-5">
    <h1 class="card-header text-center">Quiz</h1>
    <div class="card-body p-5 text-center">

        <h4 class="card-text">Press start button to begin quiz</h4>
        <a href="#" class="btn btn-primary" id="startBtn">Start Quiz</a>
        <a href="#" class="btn btn-danger" id="view"> View Highscores</a>
    </div>
</div>
</div>
<!-- Creating quiz display -->
<div class="container" id="quiz" style="display: none ;">
<div class="card m-5">
    <div class="card-body">
        <h4 class="card-text" id="title"></h4>
    </div>
    <ul class="list-group list-group-flush" id="choices">
        <li class="list-group-item" id="choice1">A</li>
        <li class="list-group-item" id="choice2">B</li>
        <li class="list-group-item" id="choice3">C</li>
        <li class="list-group-item" id="choice4">D</li>
    </ul>
    <div class="card-body" id="timer"></div>
</div>
</div>
<!-- Saving highscores and initials -->
<div class="container" id="saveHighscores" style="display: none;">
<div class="jumbotron m-4 text-center">
    <h1 class="display-4" id="score">**</h1>
    <p>Enter your initials here</p>
    <div class="input-group mb-3" id="initials">
    <input type="text" class="form-control" aria-label="Sizing example input"aria-describedby="inputGroup-sizing-default">
    </div>
    <a class="btn btn-primary btn-lg" href="#" role="button" id="submit">Submit</a>
</div>
</div>
<!-- Creating highscores display -->
<div class="container" id="highscores" style="display: none;">
<div class="card m-4 text-center">
    <div class="card-body">
        <h1 class="card-title">Highscores</h1>
    </div>
    <ul class="list-group list-group-flush" id="rank">
        <li class="list-group-item"></li>
        <li class="list-group-item"></li>
        <li class="list-group-item"></li>
    </ul>
    <div class="card-body">
        <a href="#" class="btn" id="restart">Start Over</a>   
    </div>
</div>
</div>
<script type="text/javascript" src="quiz.js"></script>
<script>

    // Grabing HTML elements and declaring them as variables
    var start = document.getElementById("start");
    var startBtn = document.getElementById("startBtn");
    var viewBtn = document.getElementById("view");

    var quiz = document.getElementById("quiz");
    var title = document.getElementById("title");

    var choices = document.getElementById("choices");

    var choice1 = document.getElementById("choice1");
    var choice2 = document.getElementById("choice2");
    var choice3 = document.getElementById("choice3");
    var choice4 = document.getElementById("choice4");

    var timer = document.getElementById("timer");

    var saveScores = document.getElementById("saveHighscores");
    var score = document.getElementById("score");
    var initials = document.getElementById("initials");
    var submit = document.getElementById("submit");

    var highscores = document.getElementById("highscores");
    var rankedScores = document.getElementById("rank");
    var restart = document.getElementById("restart");

    var lastQuestionIndex = questions.length - 1;
    var currentQuestionIndex = 0;

    var score = 0;
    // Function to render questions

    function renderQuestion() {
        let q = questions[currentQuestionIndex];
        title.innerHTML = q.title;

        choice1.innerHTML = q.choices[0];
        choice2.innerHTML = q.choices[1];
        choice3.innerHTML = q.choices[2];
        choice4.innerHTML = q.choices[3];
    };

    // Initialize time
    var questionTime = 15;
    var timerLength = questionTime * questions.length;

    timer.innerHTML = timerLength

    // Button to initialize the quiz
    startBtn.addEventListener("click", function(){
        start.style.display = "none"
        quiz.style.display = ""

        setInterval(function(){
        timerLength--;

        if(timerLength >= 0){
        timer.innerHTML = timerLength
        }
        }, 1000)
        renderQuestion();
    });

    // Button to view highscores
    viewBtn.addEventListener("click", function(){
        start.style.display = "none";
        highscores.style.display = ""
    });

    // Restart quiz from Highscore page
    restart.addEventListener("click", function(){
        highscores.style.display = "none";
        start.style.display = "";
    });

    // Write function for progressing through the quiz
    choice1.addEventListener("click", function(){
        if (choice1.innerHTML = questions[currentQuestionIndex].answer){
            currentQuestionIndex++;
            renderQuestion();
            score + 10
        } else if(choice4.innerHTML != questions[currentQuestionIndex].answer) {
            currentQuestionIndex++;
            renderQuestion();
            timer.innerHTML - 15;
        }
    });

    choice2.addEventListener("click", function(){
        if (choice2.innerHTML = questions[currentQuestionIndex].answer){
            currentQuestionIndex++;
            renderQuestion();
            score + 10
        } else if(choice4.innerHTML != questions[currentQuestionIndex].answer) {
            currentQuestionIndex++;
            renderQuestion();
            timer.innerHTML - 15;
        }
    });

    choice3.addEventListener("click", function(){
        if (choice3.innerHTML = questions[currentQuestionIndex].answer){
            currentQuestionIndex++;
            renderQuestion();
            score + 10
        } else if(choice4.innerHTML != questions[currentQuestionIndex].answer) {
            currentQuestionIndex++;
            renderQuestion();
            timer.innerHTML - 15;
        }
    });

    choice4.addEventListener("click", function(){
        if (choice4.innerHTML = questions[currentQuestionIndex].answer){
            currentQuestionIndex++;
            renderQuestion();
            score + 10
        } else if(choice4.innerHTML != questions[currentQuestionIndex].answer) {
            currentQuestionIndex++;
            renderQuestion();
            timer.innerHTML - 15;
        }
    });


</script>
</body>
</html>